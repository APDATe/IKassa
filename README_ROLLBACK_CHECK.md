# IKassa
Внешняя компонента работы с кассовыми аппаратами 3в1

# Методы работы в 1С Предприятие 7.7

### Метод  АннулированиеЧека()

Данный метод выполняет аннулирование чека на кассе и принимает следующие параметры

Параметр | Описание
---|---
ИмяКассира | Имя кассира (Хотя бы 1 символ. Все что больше 16 символов, отбрасывается).
НомерЧека | Необязательное поле. (ТИП: ЧИСЛО) если поле не передано или передан число 0 тогда Будет аннулирован последний чек!
ПечататьЧек | Необязательное поле. Стандартное значение = 1. Флаг определяющий будет ли печататься чек.. Тип - Число количество знаков -1 (1 Печатаем / 0 Не печатать)

### Метод  АннулированиеЧека().Закрыть("http://192.168.111.212:37015/v1", "75928")
Данный метод закрывает документ и принимает параметры непосредственно в методе 

Параметр | Описание
---|---
URL:PORT | URL - адрес кассового аппарта с портом (должен всегда заканчиваться /v1 
Пин-код |  пароль кассира (указан в паспорте токена)

### Представление синтаксиса 1С Предприятие 7.7 Для аннулирования чека по номеру

```1C
//Подключаем компоненту
МояКасса = СоздатьОбъект("AddIn.V7AlexEngineKassa");
//Создаем новый экземпляр класса АннулированиеЧека();	
Документ =  МояКасса.АннулированиеЧека();
//Заполняем параметры класса АннулированиеЧека();
Документ.ИмяКассира  = "Иванова";
Документ.НомерЧека  = 9994;
Документ.ПечататьЧек = 1;

//Выполняем метод Закрыть(string "URL", string "PinKod") класса АннулированиеЧека();
ответ = Документ.Закрыть("http://192.168.111.212:37015/v1", "75928");

```

### Представление синтаксиса 1С Предприятие 7.7 Для аннулирования последнего чека

```1C
//Подключаем компоненту
МояКасса = СоздатьОбъект("AddIn.V7AlexEngineKassa");
//Создаем новый экземпляр класса АннулированиеЧека();	
Документ =  МояКасса.АннулированиеЧека();
//Заполняем параметры класса АннулированиеЧека();
Документ.ИмяКассира  = "Иванова";
Документ.ПечататьЧек = 1;

//Выполняем метод Закрыть(string "URL", string "PinKod") класса АннулированиеЧека();
ответ = Документ.Закрыть("http://192.168.111.212:37015/v1", "75928");

```

### Метод Закрыть() любого класса возвращает следующие параметры

Параметр | Описание
---|---
КодОтвета | Коды ответа тип-число * [Описание кодов ошибок](./resultCode.md)
Детали |  Описание кода ответа 

* [Описание метода СостояниеКассы()](./README_OTHER_INFO.md)
* [Описание метода ОткрытьСмену()](./README_OPEN_SHIFT.md)
* [Описание метода Внесение()](./README_DEPOSIT.md)
* [Описание метода Продажа()](./README_SALE.md)
* [Описание метода Возврат()](./README_MoneyBack.md)
* [Описание метода ПечатьХОтчета()](./README_X_REPORT.md)
* [Описание метода ПечатьДокумента()](./README_PRINT.md)
* [Описание метода Изъятие()](./README_WITHDRAW.md)
* [Описание метода ЗакрытиеСмены()](./README_CLOSE_SHIFT.md)
* [Описание метода ПечатьПоследнегоОтчетаЗакрытияСмены()](./README_PRINT_Z_REPORT.md)
